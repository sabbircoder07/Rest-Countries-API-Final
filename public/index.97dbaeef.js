function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t=globalThis,r={},n={},a=t.parcelRequire94c2;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequire94c2=a);var o=a.register;o("1is5Y",function(t,r){e(t.exports,"state",()=>i),e(t.exports,"getCurrentMode",()=>s),e(t.exports,"loadCurrentMode",()=>l),e(t.exports,"getAllCountries",()=>c),e(t.exports,"loadSearchResultByCountry",()=>u),e(t.exports,"loadCountryByRegion",()=>d),e(t.exports,"loadCountryDetails",()=>h),e(t.exports,"getCountriesByPage",()=>p);var n=a("fZ5A9"),o=a("i9R9q");let i={currentMode:"",regions:[],countriesName:[],countyList:{query:"",results:[],resultsPerPage:n.COUNTRY_PER_PAGE,page:1},countryDetails:{query:"",name:"",nativeName:"",population:"",populationOnWord:"",region:"",subregion:"",capital:"",topLevelDomain:"",currencies:[],languages:[],borders:[],flag:""}},s=function(e){try{localStorage.setItem("currentMode",e);let t=localStorage.getItem("currentMode");t&&(i.currentMode=t)}catch(e){throw e}finally{}},l=function(e){try{let t=localStorage.getItem("currentMode");t?i.currentMode=t:i.currentMode=e}catch(e){throw e}finally{}},c=async function(){try{let e=await (0,o.getJSON)(`${n.API_URL}all?fields=name,flags,population,region,subregion,capital,topLevelDomain,currencies,languages,borders`);i.countyList.results=e.sort((e,t)=>e.name.common.localeCompare(t.name.common));let t=e.map(e=>e.region);i.regions=[...new Set(t)];let r=e.map(e=>e.name.common);i.countriesName=[...new Set(r)]}catch(e){throw e}},u=async function(e){try{i.countyList.query=e.trim();let t=await (0,o.getJSON)(`${n.API_URL}name/${e.trim()}?fullText=true`);i.countyList.results=t}catch(e){throw e}finally{}},d=async function(e){try{let t=e.trim();i.countyList.query=t;let r=await (0,o.getJSON)(`${n.API_URL}region/${t}`);i.countyList.results=r}catch(e){throw e}finally{}},h=async function(e){try{let t=await (0,o.getJSON)(`${n.API_URL}name/${e.trim()}?fullText=true`);if(i.countryDetails.name=t[0].name.common,i.countryDetails.nativeName=t[0].nativeName,i.countryDetails.population=t[0].population,i.countryDetails.region=t[0].region,i.countryDetails.subregion=t[0].subregion,i.countryDetails.capital=t[0].capital,i.countryDetails.topLevelDomain=t[0].topLevelDomain,i.countryDetails.currencies=t[0].currencies,i.countryDetails.languages=t[0].languages,i.countryDetails.flag=t[0].flags.png,t[0].borders){let e=await (0,o.getJSON)(`${n.API_URL}all?fields=cca3,name,flags,population,region,subregion,capital,topLevelDomain,currencies,languages,borders`);i.countryDetails.borders=e.filter(e=>t[0].borders.includes(e.cca3)).map(e=>e.name.common)}}catch(e){throw e}},p=function(e=i.countyList.page){try{i.countyList.page=e;let t=e*i.countyList.resultsPerPage;return i.countyList.results.slice(0,t)}catch(e){throw e}}}),o("fZ5A9",function(t,r){e(t.exports,"API_URL",()=>n),e(t.exports,"TIMEOUT_SEC",()=>a),e(t.exports,"COUNTRY_PER_PAGE",()=>o),e(t.exports,"SHOW_COUNTRIES_SEC",()=>i);let n="https://restcountries.com/v3.1/",a=20,o=20,i=1}),o("i9R9q",function(t,r){e(t.exports,"getJSON",()=>o);var n=a("fZ5A9");let o=async function(e){try{var t;console.log(e);let r=await Promise.race([fetch(e),(t=n.TIMEOUT_SEC,new Promise(function(e,r){setTimeout(()=>{r(Error(`Request took too long! Timeout after ${t} second`))},1e3*t)}))]);if(!r.ok)throw Error(`${r.statusText} ${r.status}`);return await r.json()}catch(e){throw console.log(e),e}}}),o("2hk5J",function(t,r){e(t.exports,"default",()=>a);class n{_modeSwitcher=document.querySelector(".header__mode-switcher");_switcherText=document.querySelector(".header__mode-switcher__text-box");_modeSwitcherIcon=document.querySelector(".header__mode-switcher__icon");_data;render(e){this._data=e,this._renderModeSwitcher()}getCountyQuery(e){return e?("Dark Mode"==e?this._data="Light Mode":"Light Mode"==e&&(this._data="Dark Mode"),this._data):this._switcherText.textContent}addHandlerLoad(e){window.addEventListener("load",e)}addHandlerClick(e){this._modeSwitcher.addEventListener("click",e)}_renderModeSwitcher(){let e=document.querySelector(":root");"Dark Mode"==this._data?(e.style.setProperty("--color-Very-Light-Gray-Light-Mode-Background","hsl(207, 26%, 17%)"),e.style.setProperty("--color-White-Dark-Mode-Text-and-Light-Mode-Elements","hsl(209, 23%, 22%)"),e.style.setProperty("--color-Very-Dark-Blue-Light-Mode-Text","hsl(0, 0%, 100%)"),e.style.setProperty("--color-Dark-Gray-Light-Mode-Input","hsl(0, 0%, 100%)"),this._modeSwitcherIcon.src="https://shivanarrthine.com/public/images/icons/sun.svg"):(e.style.setProperty("--color-Very-Light-Gray-Light-Mode-Background","hsl(0, 0%, 98%)"),e.style.setProperty("--color-White-Dark-Mode-Text-and-Light-Mode-Elements","hsl(0, 0%, 100%)"),e.style.setProperty("--color-Very-Dark-Blue-Light-Mode-Text","hsl(200, 15%, 8%)"),e.style.setProperty("--color-Dark-Gray-Light-Mode-Input","hsl(0, 0%, 52%)"),this._modeSwitcherIcon.src="https://shivanarrthine.com/public/images/icons/moon.svg"),this._switcherText.textContent="Light Mode"===this._data?"Dark Mode":"Light Mode"}}var a=new n});var i=a("1is5Y");class s{_parentElementSpinner=document.querySelector(".countries");_errorMessage="We could not find a country with that name.";renderSpinner=function(){let e=`<div class="loader-container">
    <div class="loader"></div>
    <div class="loader-text">Loading...</div>
    </div>`;this._parentElementSpinner.innerHTML="",this._parentElementSpinner.insertAdjacentHTML("beforeend",e)};renderError(e=this._errorMessage){let t=`
    <div class="message msg-danger">
      <div class="message-icon">
        <i class="ion-close-round">
          <img src="/src/images/error_icon.svg" alt="error" />
        </i>
      </div>
      <div class="message-content">
        <p>${e}</p>
      </div>
      <a href="_" class="message-close">
        <img class="close-icon" src="/src/images/cross-icon.svg" alt="close" />
      </a>
    </div>
  `;this._parentElementSpinner.innerHTML="",this._parentElementSpinner.insertAdjacentHTML("beforeend",t)}}var l=new s;class c{_parentElement=document.querySelector(".countries");_numberOfCountries=document.querySelector(".header__numberOf-countries");_data;render(e){this._data=e;let t="";t=this._generateMarkup(),this._clearMarkup(),this._parentElement.insertAdjacentHTML("beforeend",t)}_clearMarkup(){this._parentElement.innerHTML=""}renderSpinner=function(){let e=`<div class="loader-container">
  <div class="loader"></div>
  <div class="loader-text">Loading...</div>
</div>`;this._parentElement.innerHTML="",this._parentElement.insertAdjacentHTML("beforeend",e)};addHandlerRender(e){["load"].forEach(t=>window.addEventListener(t,e))}_generateMarkup(){let e="";return 0===this._data.length?void 0:(this._numberOfCountries.innerHTML=`${this._data.length} Countries Found`,this._data.forEach((t,r)=>{e+=`
        <a class="countries__link" href="countryDetails.html?name=${t.name.common}">
        <article class="country">
    <img class="country__img" src="${t.flags.png}" />
    <div class="country__number"><span>${r+1}</span></div>
    <div class="country__data">
      <div class="country__heading-box">
      <h2 class="heading-secondary country__heading">${t.name.common}</h2>
      </div>
      <div class="country__info-box">
      <p class="country__row"><span>Population: </span>${t.population.toLocaleString()}</p>
      <p class="country__row"><span>Region: </span>${t.region}</p>
      <p class="country__row"><span>Capital: </span>${t.capital}</p>
      </div>
    </div>
  </article>
  </a>`}),e)}}var u=new c;class d{_parentElement=document.querySelector(".region-list");_parentElementSpinner=document.querySelector(".countries");_data;render(e){this._data=e;let t="";t=this._generateMarkup(),this._clearMarkup(),this._parentElement.insertAdjacentHTML("beforeend",t)}_clearMarkup(){this._parentElement.innerHTML="<option selected disabled>Filter by Region</option>"}renderSpinner=function(){let e=`<div class="loader-container">
  <div class="loader"></div>
  <div class="loader-text">Loading...</div>
</div>`;this._parentElementSpinner.innerHTML="",this._parentElementSpinner.insertAdjacentHTML("beforeend",e)};addHandlerRender(e){["load"].forEach(t=>window.addEventListener(t,e))}_generateMarkup(){let e="";if(0!==this._data.length)return this._data.forEach(t=>{e+=`
      <option class="region-list" value="${t}">${t}</option>    
      `}),e}}var h=new d;class p{_parentElementSearch=document.querySelector(".cta__country-form");getCountyQuery(e){return(console.log(e),e)?e:this._parentElementSearch.querySelector(".input__country-name").value}clearInput(){this._parentElementSearch.querySelector(".input__country-name").value=""}getRegionQuery(){return this._parentElementSearch.querySelector(".region-list").value}addHandlerSearchCountry(e){this._parentElementSearch.addEventListener("submit",function(t){t.preventDefault(),e()})}addHandlerSearchCountryByRegion(e){this._parentElementSearch.querySelector(".region-list").addEventListener("change",function(t){t.preventDefault(),e()})}}var g=new p,m=a("2hk5J");class y{_parentElement=document.querySelector(".pagination");_numberOfCountries=document.querySelector(".header__numberOf-countries");_data;render(e){this._data=e;let t="";t=this._generateMarkup(),this._clearMarkup(),this._parentElement.insertAdjacentHTML("beforeend",t)}addHandlerClick(e){this._parentElement.addEventListener("click",function(t){t.preventDefault();let r=t.target.closest(".pagination__btn-view-all");r&&e(+r.dataset.goto)})}_generateMarkup(){if(0===this._data.results.length)return;let e=Math.ceil(this._data.results.length/this._data.resultsPerPage);return(this._numberOfCountries.innerHTML="",this._numberOfCountries.innerHTML=`Showing <span>${this._data.page!=e?this._data.resultsPerPage*this._data.page:this._data.results.length} </span> out of <span>${this._data.results.length}</span> Countries`,1===this._data.page&&e>1)?`<button data-goto="${e}" class="pagination__btn pagination__btn-view-all">Show All ${this._data.results.length} Countries \u{2192}</button>`:""}_clearMarkup(){this._parentElement.innerHTML=""}}var _=new y,f=a("fZ5A9");class v{_parentElement=document.querySelector("#countryName");_parentElementSearch=document.querySelector(".cta__country-form");_autocompleteItem=document.querySelector(".autocompleteItem");_data;countryName;render(e){this._data=e,this.autocomplete(this._parentElement,this._data)}autocomplete=function(e,t){let r=-1;function n(e){(function(e){for(let t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")})(e),r>=e.length&&(r=0),r<0&&(r=e.length-1),e[r].classList.add("autocomplete-active")}function a(t){let r=document.getElementsByClassName("autocomplete-items");for(let n=0;n<r.length;n++)t!==r[n]&&t!==e&&r[n].parentNode.removeChild(r[n])}e.addEventListener("input",function(n){let o,i=this.value;if(a(),!i)return!1;r=-1;let s=document.createElement("div");for(s.setAttribute("id",this.id+"autocomplete-list"),s.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(s),o=0;o<t.length;o++)if(t[o].substr(0,i.length).toUpperCase()===i.toUpperCase()){let r=document.createElement("div");r.innerHTML="<strong>"+t[o].substr(0,i.length)+"</strong>",r.innerHTML+=t[o].substr(i.length);let n=document.createElement("input");n.type="hidden",n.value=t[o],r.appendChild(n),s.appendChild(r),r.addEventListener("click",function(t){t.preventDefault(),e.value=this.getElementsByTagName("input")[0].value,this.countryName=this.getElementsByTagName("input")[0].value,M(this.countryName),a()})}}),e.addEventListener("keydown",function(e){let t=document.getElementById(this.id+"autocomplete-list").getElementsByTagName("div");40===e.keyCode?(r++,n(t)):38===e.keyCode?(r--,n(t)):13===e.keyCode&&(e.preventDefault(),r>-1&&t&&t[r].click())}),document.addEventListener("click",function(e){a(e.target)})}}var S=new v;const E=async function(){try{l.renderSpinner(),await i.getAllCountries();let e=i.state.regions;h.render(e);let t=i.state.countriesName;S.render(t);let r=i.getCountriesByPage();u.render(r),_.render(i.state.countyList)}catch(e){l.renderError(e)}},L=async function(){try{let e=g.getCountyQuery();if(!e)return;l.renderSpinner(),await i.loadSearchResultByCountry(e),setTimeout(function(){let e=i.getCountriesByPage();u.render(e),_.render(i.state.countyList)},1e3*f.SHOW_COUNTRIES_SEC)}catch(e){l.renderError(e)}},M=async function(e){try{if(!e)return;l.renderSpinner(),await i.loadSearchResultByCountry(e),setTimeout(function(){let e=i.getCountriesByPage();u.render(e),_.render(i.state.countyList)},1e3*f.SHOW_COUNTRIES_SEC)}catch(e){l.renderError(e)}},C=async function(){try{let e=g.getRegionQuery();if(!e)return;l.renderSpinner(),await i.loadCountryByRegion(e),setTimeout(function(){let e=i.getCountriesByPage();u.render(e),g.clearInput(),_.render(i.state.countyList)},1e3*f.SHOW_COUNTRIES_SEC)}catch(e){l.renderError(e)}};(0,m.default).addHandlerLoad(function(){try{i.loadCurrentMode("Light Mode");let e=i.state.currentMode;(0,m.default).render(e)}catch(e){l.renderError(e)}}),(0,m.default).addHandlerClick(function(){try{let e=(0,m.default).getCountyQuery(i.state.currentMode);if(!e)return;i.getCurrentMode(e);let t=i.state.currentMode;(0,m.default).render(t)}catch(e){l.renderError(e)}}),u.addHandlerRender(E),g.addHandlerSearchCountry(L),g.addHandlerSearchCountryByRegion(C),_.addHandlerClick(function(e){try{let t=i.getCountriesByPage(e);u.render(t),_.render(i.state.countyList)}catch(e){l.renderError(e)}});
//# sourceMappingURL=index.97dbaeef.js.map
